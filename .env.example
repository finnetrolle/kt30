# Environment Configuration Template
# Copy this file to .env and fill in your values

# Flask Configuration
SECRET_KEY=your-secret-key-here-change-in-production
DEBUG=True

# OpenAI API Configuration
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-4

# JSON Mode Configuration
# Set to 'true' for official OpenAI API (supports json_object response format)
# Set to 'false' for local LLM servers or other OpenAI-compatible APIs
OPENAI_JSON_MODE=false

# File Upload Configuration
UPLOAD_FOLDER=uploads
MAX_CONTENT_LENGTH=16777216

# WBS Template Configuration
WBS_TEMPLATE_PATH=wbs_template.md

# ============================================================
# STABILIZATION CONFIGURATION
# These settings control result consistency and stability
# ============================================================

# Stabilization Mode:
# - single: Single pass, no stabilization (fastest, least stable)
# - validate: Single pass with validation and normalization (recommended for development)
# - ensemble: Multiple passes with consensus (slowest, most stable)
# - ensemble_validate: Ensemble + validation (recommended for production)
STABILIZATION_MODE=validate

# Number of iterations for ensemble mode (3-5 recommended)
# Higher values = more stable results but longer processing time
ENSEMBLE_ITERATIONS=3

# Consensus method for combining multiple results:
# - median: Use median values (recommended, robust to outliers)
# - mean: Use average values
# - trimmed_mean: Use trimmed mean (removes extreme values)
CONSENSUS_METHOD=median

# Outlier detection threshold (in standard deviations)
# Values outside this range will be excluded from consensus
# 2.0 = exclude values more than 2 std devs from mean
OUTLIER_THRESHOLD=2.0

# Auto-normalize values to acceptable ranges
# When true, values will be adjusted to fit within defined limits
AUTO_NORMALIZE=true

# Apply validation rules from estimation_rules.json
APPLY_RULES_VALIDATION=true

# Minimum confidence score to accept result (0.0 - 1.0)
# Results below this threshold will trigger a warning
MIN_CONFIDENCE_SCORE=0.7

# Path to estimation rules file
ESTIMATION_RULES_PATH=data/estimation_rules.json
